function init(){canvas=document.getElementById("canvas"),pageWidth=document.width?document.width:document.documentElement.clientWidth,pageHeight=document.height?document.height:document.documentElement.clientHeight,lineWidth=10,padding=10,x=pageWidth/2,y=pageHeight/2,diameter=(pageWidth>pageHeight?pageHeight:pageWidth)-lineWidth-padding,startAngle=-Math.PI/2,clockwise=!0,ctx=canvas.getContext("2d"),ctx?(canvas.width=pageWidth,canvas.height=pageHeight,drawArc((new Date).getSeconds(),-Math.PI/2)):alert("You need Safari or Firefox 1.5+ to see this demo.")}function drawArc(e,t){ctx.beginPath();var n=-Math.PI/2+e/30*Math.PI,t=t;console.log(n,e),ctx.arc(x,y,diameter/2,t,n,clockwise),ctx.lineWidth=lineWidth,ctx.stroke(),window.requestAnimationFrame(function(){drawArc((new Date).getSeconds(),n)})}function debounce(e,t){var n=null;return function(){var i=this,a=arguments;clearTimeout(n),n=setTimeout(function(){e.apply(i,a)},t)}}init();